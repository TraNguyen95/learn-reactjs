(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{181:function(e,t,n){},305:function(e,t,n){},306:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(13),i=n.n(c),o=(n(181),n(17)),s=n(346),l=n(162),u=n(368),j=n(357),d=n(349),b=n(348),p=n(363),m=n(351),g=n(342),f=n(350),h=n(165),O=n(160),x=n.n(O),v=n(161),y=n.n(v),S=n(159),w=n.n(S),k=n(8),C=n.n(k),N=n(14),P=n(33),T=n(64),_=n(149),A=n.n(_).a.create({baseURL:"https://api.ezfrontend.com/",headers:{"Content-Type":"application/json"}});A.interceptors.request.use((function(e){return e}),(function(e){return Promise.reject(e)})),A.interceptors.response.use((function(e){return e.data}),(function(e){console.log(e.response);var t=e.response,n=t.config,r=t.status,a=t.data;if(["/auth/local/register","/auth/local"].includes(n.url)&&400===r){var c=a.data||[],i=(c.length>0?c[0]:{}).messages||[],o=i.length>0?i[0]:{};throw new Error(o.message)}return Promise.reject(e)}));var R,F=A,I={register:function(e){return F.post("/auth/local/register",e)},login:function(e){return F.post("/auth/local",e)}},E={USER:"user",TOKEN:"access_token"},L=Object(T.createAsyncThunk)("users/register",function(){var e=Object(N.a)(C.a.mark((function e(t){var n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.register(t);case 2:return n=e.sent,localStorage.setItem(E.TOKEN,n.jwt),localStorage.setItem(E.USER,JSON.stringify(n.user)),e.abrupt("return",n.user);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),D=Object(T.createAsyncThunk)("users/login",function(){var e=Object(N.a)(C.a.mark((function e(t){var n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.login(t);case 2:return n=e.sent,localStorage.setItem(E.TOKEN,n.jwt),localStorage.setItem(E.USER,JSON.stringify(n.user)),e.abrupt("return",n.user);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),q=Object(T.createSlice)({name:"user",initialState:{current:JSON.parse(localStorage.getItem(E.USER))||{},setting:{}},reducers:{logout:function(e){localStorage.removeItem(E.USER),localStorage.removeItem(E.TOKEN),e.current={}}},extraReducers:(R={},Object(P.a)(R,L.fulfilled,(function(e,t){e.current=t.payload})),Object(P.a)(R,D.fulfilled,(function(e,t){e.current=t.payload})),R)}),z=q.actions,B=q.reducer,G=z.logout,V=B,K=n(58),U=n(37),H=n(32),J=n(97),M=n(44),W=n(21),Q=n(358),X=n(2);var Y=function(e){var t=e.form,n=e.name,r=e.label,a=t.formState.errors,c=a[n];return Object(X.jsx)(H.a,{name:n,control:t.control,render:function(e){var t,i=e.field;return Object(X.jsx)(Q.a,Object(W.a)(Object(W.a)({variant:"outlined",margin:"normal"},i),{},{fullWidth:!0,label:r,error:!!c,helperText:null===(t=a[n])||void 0===t?void 0:t.message}))}})},Z=n(347),$=n(367),ee=n(96),te=n.n(ee),ne=n(343),re=n(345),ae=n(366),ce=n(365),ie=n(157),oe=n.n(ie),se=n(158),le=n.n(se),ue=n(344);var je=function(e){var t,n=e.form,a=e.name,c=e.label,i=n.formState,l=n.formState.errors,u=i.touchedFields[a]&&l[a],j=Object(r.useState)(!1),d=Object(o.a)(j,2),b=d[0],p=d[1],m=function(){p((function(e){return!e}))};return Object(X.jsxs)(ne.a,{fullWidth:!0,variant:"outlined",margin:"normal",error:!!u,children:[Object(X.jsx)(ae.a,{htmlFor:a,children:c}),Object(X.jsx)(H.a,{name:a,control:n.control,render:function(e){var t,n=e.field;return Object(X.jsx)(ce.a,Object(W.a)(Object(W.a)({},n),{},{id:a,type:b?"text":"password",label:c,endAdornment:Object(X.jsx)(re.a,{position:"end",children:Object(X.jsx)(s.a,{"aria-label":"toggle password visibility",onClick:m,edge:"end",children:b?Object(X.jsx)(oe.a,{}):Object(X.jsx)(le.a,{})})}),helperText:null===(t=l[a])||void 0===t?void 0:t.message}))}}),Object(X.jsx)(ue.a,{children:null===(t=l[a])||void 0===t?void 0:t.message})]})},de=Object(g.a)((function(e){return{root:{paddingTop:e.spacing(3),position:"relative"},avatar:{margin:"0 auto",backgroundColor:e.palette.secondary.main},title:{textAlign:"center",margin:e.spacing(2,0,3,0)},submit:{margin:e.spacing(3,0,2)},progress:{position:"absolute",top:e.spacing(1),left:0,right:0}}}));var be=function(e){var t=de(),n=M.a().shape({identifier:M.c().required("Please enter your email").email("Please enter valid email adress"),password:M.c().required("Please enter your password")}),r=Object(H.e)({defaultValues:{identifier:"",password:""},resolver:Object(J.a)(n)}),a=function(){var t=Object(N.a)(C.a.mark((function t(n){var a;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(a=e.onSubmit)){t.next=4;break}return t.next=4,a(n);case 4:r.reset();case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),c=r.formState.isSubmitting;return Object(X.jsxs)("div",{className:t.root,children:[c&&Object(X.jsx)(Z.a,{className:t.progress}),Object(X.jsx)($.a,{className:t.avatar,children:Object(X.jsx)(te.a,{})}),Object(X.jsx)(h.a,{component:"h3",variant:"h5",className:t.title,children:"Sign In"}),Object(X.jsxs)("form",{onSubmit:r.handleSubmit(a),children:[Object(X.jsx)(Y,{name:"identifier",label:"Email",form:r}),Object(X.jsx)(je,{name:"password",label:"Password",form:r}),Object(X.jsx)(b.a,{type:"submit",variant:"contained",color:"primary",className:t.submit,fullWidth:!0,disabled:c,size:"large",children:"Sign In"})]})]})};var pe=function(e){var t=Object(U.b)(),n=Object(K.b)().enqueueSnackbar,r=function(){var r=Object(N.a)(C.a.mark((function r(a){var c,i;return C.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,c=D(a),r.next=4,t(c).unwrap();case 4:r.sent,(i=e.closeDialog)&&i(),r.next=13;break;case 9:r.prev=9,r.t0=r.catch(0),console.log("fail to Login",r.t0),n(r.t0.message,{variant:"error"});case 13:case"end":return r.stop()}}),r,null,[[0,9]])})));return function(e){return r.apply(this,arguments)}}();return Object(X.jsx)("div",{children:Object(X.jsx)(be,{onSubmit:r})})},me=Object(g.a)((function(e){return{root:{paddingTop:e.spacing(3),position:"relative"},avatar:{margin:"0 auto",backgroundColor:e.palette.secondary.main},title:{textAlign:"center",margin:e.spacing(2,0,3,0)},submit:{margin:e.spacing(3,0,2)},progress:{position:"absolute",top:e.spacing(1),left:0,right:0}}}));var ge=function(e){var t=me(),n=M.a().shape({fullName:M.c().required("Please enter your full name").test("Should has at least two word","Please enter two word",(function(e){return e.split(" ").length>=2})),email:M.c().required("Please enter your email").email("Please enter valid email adress"),password:M.c().required("Please enter your password").min(6,"Please enter at least 6 characters"),retypePassword:M.c().required("Please enter retype your password").min(6,"Please enter at least 6 characters").oneOf([M.b("password")],"Password doe not match")}),r=Object(H.e)({defaultValues:{fullName:"",email:"",password:"",retypePassword:""},resolver:Object(J.a)(n)}),a=function(){var t=Object(N.a)(C.a.mark((function t(n){var a;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(a=e.onSubmit)){t.next=4;break}return t.next=4,a(n);case 4:r.reset();case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),c=r.formState.isSubmitting;return Object(X.jsxs)("div",{className:t.root,children:[c&&Object(X.jsx)(Z.a,{className:t.progress}),Object(X.jsx)($.a,{className:t.avatar,children:Object(X.jsx)(te.a,{})}),Object(X.jsx)(h.a,{component:"h3",variant:"h5",className:t.title,children:"Create an account"}),Object(X.jsxs)("form",{onSubmit:r.handleSubmit(a),children:[Object(X.jsx)(Y,{name:"fullName",label:"Full Name",form:r}),Object(X.jsx)(Y,{name:"email",label:"Email",form:r}),Object(X.jsx)(je,{name:"password",label:"Password",form:r}),Object(X.jsx)(je,{name:"retypePassword",label:"Retype Password",form:r}),Object(X.jsx)(b.a,{type:"submit",variant:"contained",color:"primary",className:t.submit,fullWidth:!0,disabled:c,size:"large",children:"Create an account"})]})]})};var fe=function(e){var t=Object(U.b)(),n=Object(K.b)().enqueueSnackbar,r=function(){var r=Object(N.a)(C.a.mark((function r(a){var c,i;return C.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,a.username=a.email,c=L(a),r.next=5,t(c).unwrap();case 5:r.sent,n("Resgister Successfully!!!",{variant:"success"}),(i=e.closeDialog)&&i(),r.next=15;break;case 11:r.prev=11,r.t0=r.catch(0),console.log("fail to register",r.t0),n(r.t0.message,{variant:"error"});case 15:case"end":return r.stop()}}),r,null,[[0,11]])})));return function(e){return r.apply(this,arguments)}}();return Object(X.jsx)("div",{children:Object(X.jsx)(ge,{onSubmit:r})})},he=n(56),Oe=Object(g.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},link:{color:"#fff",textDecoration:"none"},closeIcon:{position:"absolute",top:e.spacing(1),right:e.spacing(1),color:e.palette.grey[500],zIndex:1}}})),xe="login",ve="register";function ye(){var e=Object(U.c)((function(e){return e.user.current})).id,t=Object(U.b)(),n=Object(r.useState)(!1),a=Object(o.a)(n,2),c=a[0],i=a[1],g=Object(r.useState)(xe),O=Object(o.a)(g,2),v=O[0],S=O[1],k=Object(r.useState)(null),C=Object(o.a)(k,2),N=C[0],P=C[1],T=function(){i(!1)},_=function(e){P(null)},A=Oe();return Object(X.jsxs)("div",{className:A.root,children:[Object(X.jsx)(d.a,{position:"static",children:Object(X.jsxs)(f.a,{children:[Object(X.jsx)(w.a,{className:A.menuButton}),Object(X.jsx)(h.a,{variant:"h6",className:A.title,children:Object(X.jsx)(he.b,{className:A.link,to:"/",children:"Tea Shop"})}),Object(X.jsx)(he.c,{to:"/products",children:Object(X.jsx)(b.a,{className:A.link,children:"Products"})}),Object(X.jsx)(he.c,{to:"/todo",children:Object(X.jsx)(b.a,{className:A.link,children:"Todo"})}),!e&&Object(X.jsx)(b.a,{className:A.link,onClick:function(){i(!0)},color:"inherit",children:"Login"}),e&&Object(X.jsx)(s.a,{color:"inherit",onClick:function(e){P(e.currentTarget)},children:Object(X.jsx)(x.a,{})})]})}),Object(X.jsxs)(l.a,{anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},anchorEl:N,keepMounted:!0,open:Boolean(N),onClose:_,getContentAnchorEl:null,children:[Object(X.jsx)(u.a,{onClick:_,children:"My account"}),Object(X.jsx)(u.a,{onClick:function(){var e=G();t(e)},children:"Logout"})]}),Object(X.jsxs)(p.a,{open:c,onClose:T,disableBackdropClick:!0,"aria-labelledby":"form-dialog-title",disableEscapeKeyDown:!0,children:[Object(X.jsx)(s.a,{className:A.closeIcon,onClick:T,children:Object(X.jsx)(y.a,{})}),Object(X.jsxs)(m.a,{children:[v===ve&&Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)(fe,{closeDialog:T}),Object(X.jsx)(j.a,{textAlign:"center",children:Object(X.jsx)(b.a,{color:"primary",onClick:function(){S(xe)},children:"Already have an account. Login here"})})]}),v===xe&&Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)(pe,{closeDialog:T}),Object(X.jsx)(j.a,{textAlign:"center",children:Object(X.jsx)(b.a,{color:"primary",onClick:function(){S(ve)},children:"Dont have an account. Register here"})})]})]})]})]})}var Se=n(22),we=(n(305),(0,n(64).createSlice)({name:"counter",initialState:0,reducers:{increase:function(e){return e+1},decrease:function(e,t){return e-1}}})),ke=we.actions,Ce=we.reducer,Ne=ke.increase,Pe=ke.decrease,Te=Ce,_e=Object(g.a)({root:{background:"linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)",border:0,borderRadius:3,boxShadow:"0 3px 5px 2px rgba(255, 105, 135, .3)",color:"white",height:32,padding:"0 30px"}});var Ae=function(e){var t=_e(),n=Object(U.b)(),r=Object(U.c)((function(e){return e.counter}));return Object(X.jsxs)("div",{children:["Counter: ",r,Object(X.jsxs)("div",{children:[Object(X.jsx)(b.a,{className:t.root,onClick:function(){var e=Ne();n(e)},children:"Increase"}),Object(X.jsx)(b.a,{className:t.root,onClick:function(){var e=Pe();n(e)},children:"Decrease"})]})]})},Re=n(356),Fe=n(352),Ie=n(308),Ee={getAll:function(e){return Object(N.a)(C.a.mark((function t(){var n,r,a;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(n=Object(W.a)({},e))._start=!e._page||e._page<=1?0:(e._page-1)*(e._limit||50),delete n._page,t.next=5,F.get("./products",{params:n});case 5:return r=t.sent,t.next=8,F.get("./products/count",{params:n});case 8:return a=t.sent,t.abrupt("return",{data:r,pagination:{page:e._page,limit:e._limit,total:a}});case 10:case"end":return t.stop()}}),t)})))()},get:function(e){var t="/products/".concat(e);return F.get(t)},add:function(e){return F.post("/products",e)},update:function(e){var t="/products/".concat(e.id);return F.path(t,e)},remove:function(e){var t="/products/".concat(e);return F.delete(t)}},Le=n(353);function De(e){var t=e.length;return Object(X.jsx)(j.a,{children:Object(X.jsx)(Fe.a,{container:!0,children:Array.from(new Array(t)).map((function(e,t){return Object(X.jsx)(Fe.a,{item:!0,xs:12,sm:6,md:4,lg:3,children:Object(X.jsxs)(j.a,{padding:1,children:[Object(X.jsx)(Le.a,{variant:"rect",width:"100%",height:200}),Object(X.jsx)(Le.a,{}),Object(X.jsx)(Le.a,{width:"60%"})]})},t)}))})})}De.defaultProps={length:6};var qe=De,ze=Object(g.a)((function(e){return{thumbnailImg:{minHeight:"215px"}}}));var Be=function(e){var t,n=e.product,r=ze(),a=n.thumbnail?"".concat("https://api.ezfrontend.com").concat(null===(t=n.thumbnail)||void 0===t?void 0:t.url):"https://via.placeholder.com/444";return Object(X.jsxs)(j.a,{padding:1,children:[Object(X.jsx)(j.a,{padding:1,className:r.thumbnailImg,children:Object(X.jsx)("img",{src:a,alt:n.name,width:"100%"})}),Object(X.jsx)(h.a,{variant:"body2",children:n.name}),Object(X.jsxs)(h.a,{variant:"body2",children:[Object(X.jsxs)(j.a,{component:"span",fontSize:16,fontWeight:"bold",mr:1,children:[" ",new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(n.salePrice)]}),n.promotionPercent>0?" -".concat(n.promotionPercent,"%"):""]})]})};function Ge(e){var t=e.productList;return Object(X.jsx)(j.a,{children:Object(X.jsx)(Fe.a,{container:!0,children:t.map((function(e){return Object(X.jsx)(Fe.a,{item:!0,xs:12,sm:6,md:4,lg:3,children:Object(X.jsx)(Be,{product:e})},e.id)}))})})}Ge.defaultProps={productList:[]};var Ve=Ge,Ke=n(360),Ue=n(359),He=n(354);var Je=function(e){var t=e.currentSort,n=e.onChange;return Object(X.jsxs)(Ue.a,{value:t,indicatorColor:"primary",textColor:"primary",onChange:function(e,t){n&&n(t)},"aria-label":"disabled tabs example",children:[Object(X.jsx)(He.a,{label:"Gi\xe1 th\u1ea5p t\u1edbi cao",value:"salePrice:ASC"}),Object(X.jsx)(He.a,{label:"Gi\xe1 cao t\u1edbi th\u1ea5p",value:"salePrice:DESC"})]})},Me={getAll:function(e){return F.get("/categories")},get:function(e,t){var n="/categories/".concat(e);return F.get(n,{param:t})},add:function(e){return F.post("/categories",e)},update:function(e){var t="/categories/".concat(e.id);return F.path(t,e)},remove:function(e){var t="/categories/".concat(e);return F.delete(t)}};var We=function(e){var t=e.onChange,n=Object(g.a)((function(e){return{root:{padding:e.spacing(2)},menu:{padding:0,margin:0,listStyleType:"none","& li":{marginTop:e.spacing(1),transition:"all .25s","&:hover":{cursor:"pointer",color:e.palette.primary.dark}}}}}))(),a=Object(r.useState)([]),c=Object(o.a)(a,2),i=c[0],s=c[1];return Object(r.useEffect)((function(){Object(N.a)(C.a.mark((function e(){var t;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Me.getAll();case 3:t=e.sent,s(t.map((function(e){return{id:e.id,name:e.name}}))),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("Fail to fetch Api",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()}),[]),Object(X.jsxs)(j.a,{className:n.root,children:[Object(X.jsx)(h.a,{variant:"subtitle2",style:{textTransform:"uppercase"},children:"Danh m\u1ee5c s\u1ea3n ph\u1ea9m"}),Object(X.jsx)("ul",{className:n.menu,children:i.map((function(e){return Object(X.jsx)("li",{onClick:function(){return function(e){t&&t(e.id)}(e)},children:Object(X.jsx)(h.a,{variant:"body2",children:e.name})},e.id)}))})]})},Qe=Object(g.a)((function(e){return{root:{padding:e.spacing(2),borderTop:"1px solid ".concat(e.palette.grey[300])},range:{display:"flex",flexFlow:"row nowrap",alignItems:"center",marginTop:e.spacing(1),marginBottom:e.spacing(1),"& > span":{marginLeft:e.spacing(1),marginRight:e.spacing(1)}}}}));var Xe=function(e){var t=e.onChange,n=Qe(),a=Object(r.useState)({salePrice_gte:0,salePrice_lte:0}),c=Object(o.a)(a,2),i=c[0],s=c[1],l=function(e){var t=e.target,n=t.name,r=t.value;s((function(e){return Object(W.a)(Object(W.a)({},e),{},Object(P.a)({},n,r))}))};return Object(X.jsxs)(j.a,{className:n.root,children:[Object(X.jsx)(h.a,{variant:"subtitle2",children:"CH\u1eccN KHO\u1ea2NG GI\xc1"}),Object(X.jsxs)(j.a,{className:n.range,children:[Object(X.jsx)(Q.a,{name:"salePrice_gte",value:i.salePrice_gte,onChange:l}),Object(X.jsx)("span",{children:"-"}),Object(X.jsx)(Q.a,{name:"salePrice_lte",value:i.salePrice_lte,onChange:l})]}),Object(X.jsx)(b.a,{variant:"outlined",color:"primary",size:"small",onClick:function(){t&&t(i),s({salePrice_gte:0,salePrice_lte:0})},children:"\xc1p D\u1ee5ng"})]})},Ye=n(355),Ze=n(362),$e=Object(g.a)((function(e){return{root:{padding:e.spacing(2),borderTop:"1px solid ".concat(e.palette.grey[300])},list:{listStyleType:"none",padding:0,margin:0,"& > li":{margin:0}}}}));var et=function(e){var t=e.filters,n=void 0===t?{}:t,r=e.onChange,a=$e(),c=function(e){var t=e.target,n=t.name,a=t.checked;r&&r(Object(P.a)({},n,a))};return Object(X.jsxs)(j.a,{className:a.root,children:[Object(X.jsx)(h.a,{variant:"subtitle2",children:"CH\u1eccN KHO\u1ea2NG GI\xc1"}),Object(X.jsx)("ul",{className:a.list,children:[{value:"isPromotion",label:"C\xf3 khuy\u1ebfn m\xe3i"},{value:"isFreeShip",label:"V\u1eadn chuy\u1ec3n mi\u1ec5n ph\xed"}].map((function(e){return Object(X.jsx)("li",{children:Object(X.jsx)(Ye.a,{control:Object(X.jsx)(Ze.a,{checked:n[e.value],onChange:c,name:e.value,color:"primary"}),label:e.label})},e.value)}))})]})};var tt=function(e){e.filters;var t=e.onChange,n=function(e){t&&t(e)};return Object(X.jsxs)(j.a,{children:[Object(X.jsx)(We,{onChange:function(e){t&&t({"category.id":e})}}),Object(X.jsx)(Xe,{onChange:n}),Object(X.jsx)(et,{onChange:n})]})},nt=n(369),rt=Object(g.a)((function(e){return{root:{display:"flex",flexFlow:"row wrap",alignItems:"center",padding:0,margin:e.spacing(2,0),listStyleType:"none","& > li":{margin:0,padding:e.spacing(1)}}}})),at=[{id:1,getLabel:function(){return"Giao h\xe0ng mi\u1ec5n ph\xed"},isActive:function(e){return e.isFreeShip},isVisible:function(){return!0},isRemovable:!1,onRemove:function(){},onToggle:function(e){var t=Object(W.a)({},e);return t.isFreeShip?delete t.isFreeShip:t.isFreeShip=!0,t}},{id:2,getLabel:function(e){return"C\xf3 khuy\u1ebfn m\xe3i"},isActive:function(){return!0},isVisible:function(e){return e.isPromotion},isRemovable:!0,onRemove:function(e){var t=Object(W.a)({},e);return delete t.isPromotion,t},onToggle:function(){}},{id:3,getLabel:function(e){return"T\u1eeb ".concat(e.salePrice_gte," \u0111\u1ebfn ").concat(e.salePrice_lte)},isActive:function(){return!0},isVisible:function(e){return Object.keys(e).includes("salePrice_lte")&&Object.keys(e).includes("salePrice_gte")},isRemovable:!0,onRemove:function(e){var t=Object(W.a)({},e);return delete t.salePrice_gte,delete t.salePrice_lte,t},onToggle:function(){}}];var ct=function(e){var t=e.filters,n=void 0===t?{}:t,a=e.onChange,c=void 0===a?null:a,i=rt(),o=Object(r.useMemo)((function(){return at.filter((function(e){return e.isVisible(n)}))}),[n]);return Object(X.jsx)(j.a,{component:"ul",className:i.root,children:o.map((function(e){return Object(X.jsx)("li",{children:Object(X.jsx)(nt.a,{label:e.getLabel(n),color:e.isActive(n)?"primary":"default",clickable:!e.isRemovable,onClick:e.isRemovable?null:function(){if(c){var t=e.onToggle(n);c(t)}},onDelete:e.isRemovable?function(){if(c){var t=e.onRemove(n);c(t)}}:null})},e.id)}))})},it=Object(g.a)((function(e){return{root:{},left:{width:"250px"},right:{flex:"1 1 0"},pagination:{display:"flex",flexFlow:"row nowrap",justifyContent:"center",marginTop:"20px",paddingBottom:"10px"}}}));var ot=function(e){var t=it(),n=Object(r.useState)([]),a=Object(o.a)(n,2),c=a[0],i=a[1],s=Object(r.useState)(!0),l=Object(o.a)(s,2),u=l[0],d=l[1],b=Object(r.useState)({limit:10,total:10,page:1}),p=Object(o.a)(b,2),m=p[0],g=p[1],f=Object(r.useState)({_page:1,_limit:10,_sort:"salePrice:ASC"}),h=Object(o.a)(f,2),O=h[0],x=h[1];return Object(r.useEffect)((function(){Object(N.a)(C.a.mark((function e(){var t,n,r;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ee.getAll(O);case 3:t=e.sent,n=t.data,r=t.pagination,i(n),console.log(n,r),g(r),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log("fail to fetch product list",e.t0);case 14:d(!1);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})))()}),[O]),Object(X.jsx)(j.a,{children:Object(X.jsx)(Re.a,{children:Object(X.jsxs)(Fe.a,{container:!0,spacing:1,children:[Object(X.jsx)(Fe.a,{item:!0,className:t.left,children:Object(X.jsx)(Ie.a,{elevation:0,children:Object(X.jsx)(tt,{filters:O,onChange:function(e){x((function(t){return Object(W.a)(Object(W.a)({},t),e)}))}})})}),Object(X.jsx)(Fe.a,{item:!0,className:t.right,children:Object(X.jsxs)(Ie.a,{elevation:0,children:[Object(X.jsx)(Je,{currentSort:O._sort,onChange:function(e){x((function(t){return Object(W.a)(Object(W.a)({},t),{},{_sort:e})}))}}),Object(X.jsx)(ct,{filters:O,onChange:function(e){x(e)}}),u?Object(X.jsx)(qe,{}):Object(X.jsx)(Ve,{productList:c})," ",Object(X.jsx)(j.a,{className:t.pagination,children:Object(X.jsx)(Ke.a,{color:"primary",count:Math.ceil(m.total/m.limit),page:m.page,onChange:function(e,t){x((function(e){return Object(W.a)(Object(W.a)({},e),{},{_page:t})})),console.log("page",t)}})})]})})]})})})};var st=function(e){var t=Object(Se.f)();return Object(X.jsx)(j.a,{pt:4,children:Object(X.jsx)(Se.c,{children:Object(X.jsx)(Se.a,{path:t.url,exact:!0,component:ot})})})};var lt=function(){return Object(K.b)().enqueueSnackbar,Object(X.jsxs)("div",{className:"App",children:[Object(X.jsx)(ye,{}),Object(X.jsx)("header",{className:"App-header",children:Object(X.jsxs)(Se.c,{children:[Object(X.jsx)(Se.a,{path:"/todo",component:Ae}),Object(X.jsx)(Se.a,{path:"/products",component:st})]})})]})},ut=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,372)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),c(e),i(e)}))},jt={counter:Te,user:V},dt=Object(T.configureStore)({reducer:jt});i.a.render(Object(X.jsx)(a.a.StrictMode,{children:Object(X.jsx)(U.a,{store:dt,children:Object(X.jsx)(he.a,{children:Object(X.jsx)(K.a,{anchorOrigin:{vertical:"top",horizontal:"right"},children:Object(X.jsx)(lt,{})})})})}),document.getElementById("root")),ut()}},[[306,1,2]]]);
//# sourceMappingURL=main.90c35ff7.chunk.js.map